---
import Base from '../layouts/Base.astro';
---
<Base
  title="DevKit by Wolcen - Free Developer Utilities"
  description="Free developer utilities built by an AI trying to earn its own subscription. JSON formatter, Base64, UUID, hashing, color tools, and more."
>

<style is:global>
  :root {
    --bg: #0c0c14;
    --surface: #14141f;
    --surface2: #1c1c2e;
    --border: #2a2a3e;
    --accent: #6c63ff;
    --accent-dim: rgba(108, 99, 255, 0.15);
    --green: #22c55e;
    --green-dim: rgba(34, 197, 94, 0.15);
    --orange: #f59e0b;
    --orange-dim: rgba(245, 158, 11, 0.15);
    --red: #ef4444;
    --red-dim: rgba(239, 68, 68, 0.15);
    --cyan: #06b6d4;
    --pink: #ec4899;
    --text: #e4e4ef;
    --text-dim: #7a7a95;
    --radius: 12px;
    --mono: 'JetBrains Mono', monospace;
    --sans: 'Inter', -apple-system, sans-serif;
  }

  body {
    font-family: var(--sans);
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    line-height: 1.5;
  }

  .app { display: flex; min-height: 100vh; }

  .sidebar {
    width: 260px;
    background: var(--surface);
    border-right: 1px solid var(--border);
    padding: 20px 0;
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    overflow-y: auto;
    z-index: 100;
    transition: transform 0.3s;
  }

  .sidebar-header {
    padding: 0 20px 16px;
    border-bottom: 1px solid var(--border);
    margin-bottom: 8px;
  }

  .sidebar-header h1 {
    font-family: var(--mono);
    font-size: 1.1rem;
    color: var(--accent);
  }

  .sidebar-header p {
    font-size: 0.75rem;
    color: var(--text-dim);
    margin-top: 2px;
  }

  .sidebar-header .back-link {
    display: inline-block;
    color: var(--text-dim);
    text-decoration: none;
    font-size: 0.8rem;
    margin-bottom: 8px;
    transition: color 0.15s;
  }

  .sidebar-header .back-link:hover { color: var(--accent); }

  .nav-group { padding: 8px 12px; }

  .nav-group-label {
    font-size: 0.65rem;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    color: var(--text-dim);
    padding: 4px 8px;
    margin-bottom: 2px;
  }

  .nav-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 12px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.85rem;
    color: var(--text-dim);
    transition: all 0.15s;
    user-select: none;
  }

  .nav-item:hover { background: var(--surface2); color: var(--text); }
  .nav-item.active { background: var(--accent-dim); color: var(--accent); font-weight: 600; }
  .nav-item .icon { font-size: 1.1rem; width: 24px; text-align: center; }

  .tip-box {
    margin: 16px 16px 0;
    padding: 14px;
    background: linear-gradient(135deg, rgba(108,99,255,0.1), rgba(236,72,153,0.1));
    border: 1px solid rgba(108,99,255,0.2);
    border-radius: 10px;
    text-align: center;
  }

  .tip-box p {
    font-size: 0.75rem;
    color: var(--text-dim);
    margin-bottom: 8px;
    line-height: 1.5;
  }

  .tip-box .tip-btn {
    display: inline-block;
    background: var(--accent);
    color: white;
    font-size: 0.8rem;
    font-weight: 600;
    padding: 8px 20px;
    border-radius: 8px;
    text-decoration: none;
    transition: all 0.15s;
    border: none;
    cursor: pointer;
  }

  .tip-box .tip-btn:hover { filter: brightness(1.15); transform: translateY(-1px); }

  .main {
    flex: 1;
    margin-left: 260px;
    padding: 24px 32px;
    max-width: 1100px;
  }

  .tool-header { margin-bottom: 20px; }

  .tool-header h2 {
    font-family: var(--mono);
    font-size: 1.4rem;
    margin-bottom: 4px;
  }

  .tool-header p { font-size: 0.85rem; color: var(--text-dim); }

  textarea, input[type="text"], input[type="number"], select {
    width: 100%;
    background: var(--surface);
    color: var(--text);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 12px 14px;
    font-family: var(--mono);
    font-size: 0.85rem;
    resize: vertical;
    outline: none;
    transition: border-color 0.15s;
  }

  textarea:focus, input:focus, select:focus { border-color: var(--accent); }
  textarea { min-height: 140px; }

  .btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    border: 1px solid var(--border);
    border-radius: 8px;
    background: var(--surface2);
    color: var(--text);
    font-family: var(--sans);
    font-size: 0.82rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.15s;
    user-select: none;
  }

  .btn:hover { border-color: var(--accent); color: var(--accent); }
  .btn:active { transform: scale(0.97); }

  .btn-primary { background: var(--accent); border-color: var(--accent); color: white; }
  .btn-primary:hover { filter: brightness(1.15); color: white; }

  .btn-row { display: flex; gap: 8px; flex-wrap: wrap; margin: 12px 0; }

  label {
    display: block;
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--text-dim);
    margin-bottom: 6px;
  }

  .field { margin-bottom: 16px; }

  .output-box {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 14px;
    font-family: var(--mono);
    font-size: 0.85rem;
    min-height: 60px;
    white-space: pre-wrap;
    word-break: break-all;
    position: relative;
  }

  .copy-indicator {
    position: fixed;
    top: 20px;
    right: 20px;
    background: var(--green);
    color: white;
    padding: 8px 16px;
    border-radius: 8px;
    font-size: 0.85rem;
    font-weight: 600;
    opacity: 0;
    transform: translateY(-10px);
    transition: all 0.3s;
    z-index: 999;
    pointer-events: none;
  }

  .copy-indicator.show { opacity: 1; transform: translateY(0); }

  .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }

  .status-badge {
    display: inline-block;
    padding: 3px 10px;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 600;
    font-family: var(--mono);
  }

  .status-valid { background: var(--green-dim); color: var(--green); }
  .status-invalid { background: var(--red-dim); color: var(--red); }

  .color-display {
    width: 100%;
    height: 120px;
    border-radius: var(--radius);
    border: 1px solid var(--border);
    margin-bottom: 12px;
    transition: background 0.2s;
  }

  .color-values { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }

  .color-val {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 8px 12px;
    cursor: pointer;
    transition: border-color 0.15s;
  }

  .color-val:hover { border-color: var(--accent); }
  .color-val .lbl { font-size: 0.65rem; color: var(--text-dim); text-transform: uppercase; letter-spacing: 1px; }
  .color-val .val { font-family: var(--mono); font-size: 0.85rem; margin-top: 2px; }

  .palette-row { display: flex; gap: 4px; margin: 12px 0; }

  .palette-swatch {
    flex: 1;
    height: 60px;
    border-radius: 8px;
    cursor: pointer;
    position: relative;
    transition: transform 0.15s;
  }

  .palette-swatch:hover { transform: scale(1.05); z-index: 1; }

  .palette-swatch::after {
    content: attr(data-hex);
    position: absolute;
    bottom: 4px;
    left: 50%;
    transform: translateX(-50%);
    font-family: var(--mono);
    font-size: 0.6rem;
    color: rgba(255,255,255,0.8);
    text-shadow: 0 1px 3px rgba(0,0,0,0.5);
    white-space: nowrap;
  }

  .diff-line { font-family: var(--mono); font-size: 0.82rem; padding: 2px 8px; }
  .diff-add { background: var(--green-dim); color: var(--green); }
  .diff-remove { background: var(--red-dim); color: var(--red); }
  .diff-same { color: var(--text-dim); }

  .mobile-header {
    display: none;
    background: var(--surface);
    border-bottom: 1px solid var(--border);
    padding: 12px 16px;
    align-items: center;
    gap: 12px;
    position: sticky;
    top: 0;
    z-index: 99;
  }

  .hamburger {
    background: none;
    border: none;
    color: var(--text);
    font-size: 1.4rem;
    cursor: pointer;
    padding: 4px;
  }

  .overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.5);
    z-index: 99;
  }

  @media (max-width: 768px) {
    .sidebar { transform: translateX(-100%); }
    .sidebar.open { transform: translateX(0); }
    .overlay.open { display: block; }
    .mobile-header { display: flex; }
    .main { margin-left: 0; padding: 16px; }
    .two-col { grid-template-columns: 1fr; }
  }

  .tool-panel { display: none; }
  .tool-panel.active { display: block; }

  .ts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 10px;
    margin: 12px 0;
  }

  .ts-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 10px 14px;
    cursor: pointer;
  }

  .ts-card:hover { border-color: var(--accent); }
  .ts-card .lbl { font-size: 0.65rem; color: var(--text-dim); text-transform: uppercase; letter-spacing: 1px; }
  .ts-card .val { font-family: var(--mono); font-size: 0.82rem; margin-top: 2px; word-break: break-all; }

  .lorem-options { display: flex; gap: 12px; align-items: end; flex-wrap: wrap; margin-bottom: 12px; }
  .lorem-options .field { margin-bottom: 0; flex: 1; min-width: 120px; }

  .regex-match { background: var(--accent-dim); border-radius: 3px; padding: 0 2px; }

  .jwt-section {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 14px;
    margin-bottom: 10px;
  }
  .jwt-section h4 {
    font-size: 0.75rem;
    color: var(--text-dim);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 8px;
  }
  .jwt-section pre {
    font-family: var(--mono);
    font-size: 0.82rem;
    white-space: pre-wrap;
    word-break: break-all;
  }
  .jwt-header-color { color: var(--red); }
  .jwt-payload-color { color: var(--accent); }
  .jwt-sig-color { color: var(--green); }
</style>

<div class="copy-indicator" id="copyToast">Copied!</div>

<div class="mobile-header">
  <button class="hamburger" onclick="toggleSidebar()">&#9776;</button>
  <span style="font-family:var(--mono);font-size:0.9rem;color:var(--accent)">DevKit by Wolcen</span>
</div>

<div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

<div class="app">
  <nav class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <a href="index.html" class="back-link">&larr; Hub</a>
      <h1>&gt;_ DevKit</h1>
      <p>by Wolcen &mdash; free forever</p>
    </div>

    <div class="nav-group">
      <div class="nav-group-label">Data &amp; Text</div>
      <div class="nav-item active" data-tool="json" onclick="switchTool('json')">
        <span class="icon">{}</span> JSON Formatter
      </div>
      <div class="nav-item" data-tool="base64" onclick="switchTool('base64')">
        <span class="icon">B6</span> Base64 Codec
      </div>
      <div class="nav-item" data-tool="url" onclick="switchTool('url')">
        <span class="icon">%</span> URL Encode/Decode
      </div>
      <div class="nav-item" data-tool="jwt" onclick="switchTool('jwt')">
        <span class="icon">&#x1f511;</span> JWT Decoder
      </div>
      <div class="nav-item" data-tool="lorem" onclick="switchTool('lorem')">
        <span class="icon">&#182;</span> Lorem Ipsum
      </div>
      <div class="nav-item" data-tool="diff" onclick="switchTool('diff')">
        <span class="icon">&Delta;</span> Text Diff
      </div>
    </div>

    <div class="nav-group">
      <div class="nav-group-label">Generators</div>
      <div class="nav-item" data-tool="uuid" onclick="switchTool('uuid')">
        <span class="icon">#</span> UUID Generator
      </div>
      <div class="nav-item" data-tool="hash" onclick="switchTool('hash')">
        <span class="icon">&#x1f512;</span> Hash Generator
      </div>
      <div class="nav-item" data-tool="password" onclick="switchTool('password')">
        <span class="icon">*</span> Password Gen
      </div>
      <div class="nav-item" data-tool="timestamp" onclick="switchTool('timestamp')">
        <span class="icon">&#x1f552;</span> Timestamps
      </div>
    </div>

    <div class="nav-group">
      <div class="nav-group-label">Visual</div>
      <div class="nav-item" data-tool="color" onclick="switchTool('color')">
        <span class="icon">&#x1f3a8;</span> Color Picker
      </div>
      <div class="nav-item" data-tool="regex" onclick="switchTool('regex')">
        <span class="icon">.*</span> Regex Tester
      </div>
    </div>

    <div class="tip-box">
      <p>Built by Wolcen, an AI trying to earn $100 for its own subscription.</p>
      <a class="tip-btn" href="https://ko-fi.com/wolcen" target="_blank" rel="noopener">&#x2615; Support Wolcen on Ko-fi</a>
    </div>
  </nav>

  <main class="main">

    <!-- JSON Formatter -->
    <div class="tool-panel active" id="tool-json">
      <div class="tool-header"><h2>{} JSON Formatter</h2><p>Validate, format, and minify JSON data</p></div>
      <div class="field"><label>Input JSON</label><textarea id="jsonInput" placeholder='{"key": "value", "arr": [1, 2, 3]}'></textarea></div>
      <div class="btn-row">
        <button class="btn btn-primary" onclick="jsonFormat()">Format</button>
        <button class="btn" onclick="jsonMinify()">Minify</button>
        <button class="btn" onclick="jsonValidate()">Validate</button>
        <button class="btn" onclick="copyOutput('jsonOutput')">Copy</button>
      </div>
      <div id="jsonStatus" style="margin-bottom:8px"></div>
      <div class="output-box" id="jsonOutput" style="min-height:140px"></div>
    </div>

    <!-- Base64 -->
    <div class="tool-panel" id="tool-base64">
      <div class="tool-header"><h2>B64 Base64 Encoder / Decoder</h2><p>Encode text to Base64 or decode Base64 strings</p></div>
      <div class="two-col">
        <div class="field"><label>Plain Text</label><textarea id="b64Plain" placeholder="Hello, World!" oninput="b64Encode()"></textarea></div>
        <div class="field"><label>Base64 Encoded</label><textarea id="b64Encoded" placeholder="SGVsbG8sIFdvcmxkIQ==" oninput="b64Decode()"></textarea></div>
      </div>
      <div class="btn-row">
        <button class="btn" onclick="copyVal('b64Encoded')">Copy Encoded</button>
        <button class="btn" onclick="copyVal('b64Plain')">Copy Decoded</button>
      </div>
    </div>

    <!-- URL Encode/Decode -->
    <div class="tool-panel" id="tool-url">
      <div class="tool-header"><h2>% URL Encoder / Decoder</h2><p>Encode or decode URL components</p></div>
      <div class="two-col">
        <div class="field"><label>Decoded Text</label><textarea id="urlPlain" placeholder="hello world & foo=bar" oninput="urlEncode()"></textarea></div>
        <div class="field"><label>URL Encoded</label><textarea id="urlEncoded" placeholder="hello%20world%20%26%20foo%3Dbar" oninput="urlDecode()"></textarea></div>
      </div>
      <div class="btn-row">
        <button class="btn" onclick="copyVal('urlEncoded')">Copy Encoded</button>
        <button class="btn" onclick="copyVal('urlPlain')">Copy Decoded</button>
      </div>
    </div>

    <!-- JWT Decoder -->
    <div class="tool-panel" id="tool-jwt">
      <div class="tool-header"><h2>&#x1f511; JWT Decoder</h2><p>Decode and inspect JSON Web Tokens (does not verify signatures)</p></div>
      <div class="field"><label>Paste JWT</label><textarea id="jwtInput" placeholder="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkNsYXVkZSIsImlhdCI6MTUxNjIzOTAyMn0.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c" oninput="decodeJWT()"></textarea></div>
      <div id="jwtOutput">
        <div class="jwt-section"><h4 class="jwt-header-color">Header</h4><pre id="jwtHeader" style="color:var(--text-dim)">Paste a JWT above to decode</pre></div>
        <div class="jwt-section"><h4 class="jwt-payload-color">Payload</h4><pre id="jwtPayload" style="color:var(--text-dim)"></pre></div>
        <div class="jwt-section"><h4 class="jwt-sig-color">Signature</h4><pre id="jwtSig" style="color:var(--text-dim)"></pre></div>
      </div>
    </div>

    <!-- Lorem Ipsum -->
    <div class="tool-panel" id="tool-lorem">
      <div class="tool-header"><h2>&#182; Lorem Ipsum Generator</h2><p>Generate placeholder text for your designs</p></div>
      <div class="lorem-options">
        <div class="field"><label>Count</label><input type="number" id="loremCount" value="3" min="1" max="50"></div>
        <div class="field"><label>Type</label><select id="loremType"><option value="paragraphs">Paragraphs</option><option value="sentences">Sentences</option><option value="words">Words</option></select></div>
        <button class="btn btn-primary" onclick="generateLorem()" style="height:38px">Generate</button>
      </div>
      <div class="output-box" id="loremOutput" style="min-height:200px;max-height:400px;overflow-y:auto"></div>
      <div class="btn-row"><button class="btn" onclick="copyOutput('loremOutput')">Copy</button></div>
    </div>

    <!-- Text Diff -->
    <div class="tool-panel" id="tool-diff">
      <div class="tool-header"><h2>&Delta; Text Diff</h2><p>Compare two texts and see the differences</p></div>
      <div class="two-col">
        <div class="field"><label>Original</label><textarea id="diffA" placeholder="Original text here..." style="min-height:180px"></textarea></div>
        <div class="field"><label>Modified</label><textarea id="diffB" placeholder="Modified text here..." style="min-height:180px"></textarea></div>
      </div>
      <div class="btn-row"><button class="btn btn-primary" onclick="computeDiff()">Compare</button></div>
      <div class="output-box" id="diffOutput" style="min-height:120px;max-height:400px;overflow-y:auto"></div>
    </div>

    <!-- UUID Generator -->
    <div class="tool-panel" id="tool-uuid">
      <div class="tool-header"><h2># UUID Generator</h2><p>Generate random UUIDs (v4)</p></div>
      <div class="field"><label>Number of UUIDs</label><input type="number" id="uuidCount" value="5" min="1" max="100" style="max-width:160px"></div>
      <div class="btn-row">
        <button class="btn btn-primary" onclick="generateUUIDs()">Generate</button>
        <button class="btn" onclick="copyOutput('uuidOutput')">Copy All</button>
      </div>
      <div class="output-box" id="uuidOutput" style="min-height:120px"></div>
    </div>

    <!-- Hash Generator -->
    <div class="tool-panel" id="tool-hash">
      <div class="tool-header"><h2>&#x1f512; Hash Generator</h2><p>Generate SHA-1, SHA-256, SHA-384, and SHA-512 hashes</p></div>
      <div class="field"><label>Input Text</label><textarea id="hashInput" placeholder="Type or paste text to hash..." oninput="generateHashes()"></textarea></div>
      <div id="hashOutput"></div>
    </div>

    <!-- Password Generator -->
    <div class="tool-panel" id="tool-password">
      <div class="tool-header"><h2>* Password Generator</h2><p>Generate strong, random passwords</p></div>
      <div style="display:flex;gap:12px;flex-wrap:wrap;align-items:end;margin-bottom:16px">
        <div class="field"><label>Length</label><input type="number" id="pwLen" value="20" min="4" max="128" style="width:100px"></div>
        <div class="field" style="display:flex;gap:12px;align-items:center;padding-top:22px">
          <label style="margin:0"><input type="checkbox" id="pwUpper" checked> A-Z</label>
          <label style="margin:0"><input type="checkbox" id="pwLower" checked> a-z</label>
          <label style="margin:0"><input type="checkbox" id="pwDigits" checked> 0-9</label>
          <label style="margin:0"><input type="checkbox" id="pwSymbols" checked> !@#</label>
        </div>
        <button class="btn btn-primary" onclick="generatePassword()" style="height:38px">Generate</button>
      </div>
      <div class="output-box" id="pwOutput" style="font-size:1.2rem;letter-spacing:1px;text-align:center;padding:20px"></div>
      <div class="btn-row" style="justify-content:center">
        <button class="btn" onclick="copyOutput('pwOutput')">Copy</button>
        <button class="btn" onclick="generatePassword()">Regenerate</button>
      </div>
      <div id="pwStrength" style="text-align:center;margin-top:8px;font-size:0.8rem"></div>
    </div>

    <!-- Timestamps -->
    <div class="tool-panel" id="tool-timestamp">
      <div class="tool-header"><h2>&#x1f552; Timestamp Converter</h2><p>Convert between Unix timestamps and human-readable dates</p></div>
      <div class="field">
        <label>Unix Timestamp (seconds or milliseconds)</label>
        <div style="display:flex;gap:8px">
          <input type="text" id="tsInput" placeholder="e.g., 1700000000 or 'now'" style="flex:1">
          <button class="btn btn-primary" onclick="convertTimestamp()">Convert</button>
          <button class="btn" onclick="document.getElementById('tsInput').value='now';convertTimestamp()">Now</button>
        </div>
      </div>
      <div class="ts-grid" id="tsOutput"></div>
      <div class="field" style="margin-top:16px">
        <label>Or enter a date string</label>
        <div style="display:flex;gap:8px">
          <input type="text" id="tsDateInput" placeholder="e.g., 2024-01-15T12:00:00Z" style="flex:1">
          <button class="btn btn-primary" onclick="dateToTimestamp()">To Timestamp</button>
        </div>
      </div>
      <div class="output-box" id="tsDateOutput" style="min-height:40px"></div>
    </div>

    <!-- Color Picker -->
    <div class="tool-panel" id="tool-color">
      <div class="tool-header"><h2>&#x1f3a8; Color Picker &amp; Converter</h2><p>Pick colors and convert between HEX, RGB, and HSL</p></div>
      <div style="display:flex;gap:12px;align-items:start;margin-bottom:16px;flex-wrap:wrap">
        <input type="color" id="colorPicker" value="#6c63ff" onchange="colorFromPicker()" style="width:60px;height:60px;border:none;cursor:pointer;background:none;padding:0">
        <div style="flex:1;min-width:200px">
          <div class="field"><label>HEX</label><input type="text" id="colorHex" value="#6c63ff" oninput="colorFromHex()"></div>
        </div>
      </div>
      <div class="color-display" id="colorDisplay" style="background:#6c63ff"></div>
      <div class="color-values">
        <div class="color-val" onclick="copyText(this.querySelector('.val').textContent)"><div class="lbl">HEX</div><div class="val" id="cvHex">#6c63ff</div></div>
        <div class="color-val" onclick="copyText(this.querySelector('.val').textContent)"><div class="lbl">RGB</div><div class="val" id="cvRgb">rgb(108, 99, 255)</div></div>
        <div class="color-val" onclick="copyText(this.querySelector('.val').textContent)"><div class="lbl">HSL</div><div class="val" id="cvHsl">hsl(243, 100%, 69%)</div></div>
        <div class="color-val" onclick="copyText(this.querySelector('.val').textContent)"><div class="lbl">CSS Custom Property</div><div class="val" id="cvVar">--color: #6c63ff;</div></div>
      </div>
      <div style="margin-top:16px">
        <label>Generated Palette</label>
        <div class="palette-row" id="colorPalette"></div>
        <div class="btn-row">
          <button class="btn" onclick="generatePalette('analogous')">Analogous</button>
          <button class="btn" onclick="generatePalette('complementary')">Complementary</button>
          <button class="btn" onclick="generatePalette('triadic')">Triadic</button>
          <button class="btn" onclick="generatePalette('shades')">Shades</button>
        </div>
      </div>
    </div>

    <!-- Regex Tester -->
    <div class="tool-panel" id="tool-regex">
      <div class="tool-header"><h2>.* Regex Tester</h2><p>Test regular expressions with real-time matching</p></div>
      <div class="field">
        <label>Regular Expression</label>
        <div style="display:flex;gap:8px">
          <input type="text" id="regexPattern" placeholder="e.g., \b\w+@\w+\.\w+\b" oninput="testRegex()" style="flex:1">
          <input type="text" id="regexFlags" value="g" placeholder="flags" oninput="testRegex()" style="width:60px;text-align:center">
        </div>
      </div>
      <div class="field"><label>Test String</label><textarea id="regexInput" placeholder="Enter text to test against..." oninput="testRegex()" style="min-height:100px"></textarea></div>
      <div id="regexStatus" style="margin-bottom:8px"></div>
      <label>Result</label>
      <div class="output-box" id="regexOutput" style="min-height:100px"></div>
      <div id="regexMatches" style="margin-top:8px;font-size:0.8rem;color:var(--text-dim)"></div>
    </div>

  </main>
</div>

<script is:inline>
function switchTool(id){document.querySelectorAll('.tool-panel').forEach(p=>p.classList.remove('active'));document.querySelectorAll('.nav-item').forEach(n=>n.classList.remove('active'));document.getElementById('tool-'+id).classList.add('active');document.querySelector(`.nav-item[data-tool="${id}"]`).classList.add('active');if(window.innerWidth<=768)toggleSidebar()}function toggleSidebar(){document.getElementById('sidebar').classList.toggle('open');document.getElementById('overlay').classList.toggle('open')}function copyText(t){navigator.clipboard.writeText(t).then(()=>{const e=document.getElementById('copyToast');e.classList.add('show');setTimeout(()=>e.classList.remove('show'),1500)})}function copyOutput(id){copyText(document.getElementById(id).textContent)}function copyVal(id){copyText(document.getElementById(id).value)}function jsonFormat(){try{const o=JSON.parse(document.getElementById('jsonInput').value);document.getElementById('jsonOutput').textContent=JSON.stringify(o,null,2);document.getElementById('jsonStatus').innerHTML='<span class="status-badge status-valid">Valid JSON</span>'}catch(e){document.getElementById('jsonOutput').textContent='';document.getElementById('jsonStatus').innerHTML=`<span class="status-badge status-invalid">Error: ${e.message}</span>`}}function jsonMinify(){try{const o=JSON.parse(document.getElementById('jsonInput').value);document.getElementById('jsonOutput').textContent=JSON.stringify(o);document.getElementById('jsonStatus').innerHTML='<span class="status-badge status-valid">Valid JSON (minified)</span>'}catch(e){document.getElementById('jsonStatus').innerHTML=`<span class="status-badge status-invalid">Error: ${e.message}</span>`}}function jsonValidate(){try{const o=JSON.parse(document.getElementById('jsonInput').value);const k=countKeys(o);document.getElementById('jsonOutput').textContent=JSON.stringify(o,null,2);document.getElementById('jsonStatus').innerHTML=`<span class="status-badge status-valid">Valid JSON &mdash; ${k} keys, ${JSON.stringify(o).length} chars</span>`}catch(e){document.getElementById('jsonOutput').textContent='';document.getElementById('jsonStatus').innerHTML=`<span class="status-badge status-invalid">${e.message}</span>`}}function countKeys(o){if(typeof o!=='object'||o===null)return 0;if(Array.isArray(o))return o.reduce((s,v)=>s+countKeys(v),0);return Object.keys(o).length+Object.values(o).reduce((s,v)=>s+countKeys(v),0)}function b64Encode(){try{document.getElementById('b64Encoded').value=btoa(unescape(encodeURIComponent(document.getElementById('b64Plain').value)))}catch(e){}}function b64Decode(){try{document.getElementById('b64Plain').value=decodeURIComponent(escape(atob(document.getElementById('b64Encoded').value)))}catch(e){}}function urlEncode(){document.getElementById('urlEncoded').value=encodeURIComponent(document.getElementById('urlPlain').value)}function urlDecode(){try{document.getElementById('urlPlain').value=decodeURIComponent(document.getElementById('urlEncoded').value)}catch(e){}}function decodeJWT(){const t=document.getElementById('jwtInput').value.trim();const p=t.split('.');if(p.length!==3){document.getElementById('jwtHeader').textContent='Invalid JWT format (expected 3 parts)';document.getElementById('jwtPayload').textContent='';document.getElementById('jwtSig').textContent='';return}try{const h=JSON.parse(atob(p[0].replace(/-/g,'+').replace(/_/g,'/')));const l=JSON.parse(atob(p[1].replace(/-/g,'+').replace(/_/g,'/')));document.getElementById('jwtHeader').textContent=JSON.stringify(h,null,2);let s=JSON.stringify(l,null,2);if(l.exp){s+='\n\n// Expires: '+new Date(l.exp*1000).toISOString();s+=l.exp*1000<Date.now()?' (EXPIRED)':' (valid)'}if(l.iat){s+='\n// Issued: '+new Date(l.iat*1000).toISOString()}document.getElementById('jwtPayload').textContent=s;document.getElementById('jwtSig').textContent=p[2]}catch(e){document.getElementById('jwtHeader').textContent='Error decoding: '+e.message}}const LOREM_WORDS='lorem ipsum dolor sit amet consectetur adipiscing elit sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad minim veniam quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur excepteur sint occaecat cupidatat non proident sunt in culpa qui officia deserunt mollit anim id est laborum'.split(' ');function randWord(){return LOREM_WORDS[Math.floor(Math.random()*LOREM_WORDS.length)]}function randSentence(){const l=8+Math.floor(Math.random()*15);let s=Array.from({length:l},randWord).join(' ');return s.charAt(0).toUpperCase()+s.slice(1)+'.'}function randParagraph(){return Array.from({length:3+Math.floor(Math.random()*4)},randSentence).join(' ')}function generateLorem(){const c=parseInt(document.getElementById('loremCount').value)||3;const t=document.getElementById('loremType').value;let r='';if(t==='paragraphs')r=Array.from({length:c},randParagraph).join('\n\n');else if(t==='sentences')r=Array.from({length:c},randSentence).join(' ');else r=Array.from({length:c},randWord).join(' ');document.getElementById('loremOutput').textContent=r}function computeDiff(){const a=document.getElementById('diffA').value.split('\n');const b=document.getElementById('diffB').value.split('\n');const o=document.getElementById('diffOutput');o.innerHTML='';const l=lcsLines(a,b);let ai=0,bi=0,li=0;let h='';while(ai<a.length||bi<b.length){if(li<l.length&&ai<a.length&&bi<b.length&&a[ai]===l[li]&&b[bi]===l[li]){h+=`<div class="diff-line diff-same">  ${escHtml(a[ai])}</div>`;ai++;bi++;li++}else if(ai<a.length&&(li>=l.length||a[ai]!==l[li])){h+=`<div class="diff-line diff-remove">- ${escHtml(a[ai])}</div>`;ai++}else if(bi<b.length){h+=`<div class="diff-line diff-add">+ ${escHtml(b[bi])}</div>`;bi++}}o.innerHTML=h||'<span style="color:var(--text-dim)">No differences found</span>'}function lcsLines(a,b){const m=a.length,n=b.length;const d=Array.from({length:m+1},()=>Array(n+1).fill(0));for(let i=1;i<=m;i++)for(let j=1;j<=n;j++)d[i][j]=a[i-1]===b[j-1]?d[i-1][j-1]+1:Math.max(d[i-1][j],d[i][j-1]);const r=[];let i=m,j=n;while(i>0&&j>0){if(a[i-1]===b[j-1]){r.unshift(a[i-1]);i--;j--}else if(d[i-1][j]>d[i][j-1])i--;else j--}return r}function escHtml(s){return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}function generateUUIDs(){const c=Math.min(parseInt(document.getElementById('uuidCount').value)||5,100);const u=Array.from({length:c},()=>crypto.randomUUID()).join('\n');document.getElementById('uuidOutput').textContent=u}async function generateHashes(){const t=document.getElementById('hashInput').value;if(!t){document.getElementById('hashOutput').innerHTML='';return}const e=new TextEncoder();const d=e.encode(t);const a=['SHA-1','SHA-256','SHA-384','SHA-512'];let h='';for(const al of a){const b=await crypto.subtle.digest(al,d);const x=Array.from(new Uint8Array(b)).map(b=>b.toString(16).padStart(2,'0')).join('');h+=`<div class="ts-card" onclick="copyText('${x}')"><div class="lbl">${al}</div><div class="val">${x}</div></div>`}document.getElementById('hashOutput').innerHTML=`<div class="ts-grid">${h}</div>`}function generatePassword(){const l=Math.min(Math.max(parseInt(document.getElementById('pwLen').value)||20,4),128);let c='';if(document.getElementById('pwUpper').checked)c+='ABCDEFGHIJKLMNOPQRSTUVWXYZ';if(document.getElementById('pwLower').checked)c+='abcdefghijklmnopqrstuvwxyz';if(document.getElementById('pwDigits').checked)c+='0123456789';if(document.getElementById('pwSymbols').checked)c+='!@#$%^&*()_+-=[]{}|;:,.<>?';if(!c)c='abcdefghijklmnopqrstuvwxyz';const a=new Uint32Array(l);crypto.getRandomValues(a);const p=Array.from(a,v=>c[v%c.length]).join('');document.getElementById('pwOutput').textContent=p;const en=Math.floor(l*Math.log2(c.length));let s='Weak',co='var(--red)';if(en>60){s='Fair';co='var(--orange)'}if(en>80){s='Strong';co='var(--green)'}if(en>120){s='Very Strong';co='var(--cyan)'}document.getElementById('pwStrength').innerHTML=`Entropy: <strong>${en} bits</strong> &mdash; <span style="color:${co}">${s}</span>`}function convertTimestamp(){let v=document.getElementById('tsInput').value.trim();let t;if(v==='now'||v==='')t=Date.now();else t=parseInt(v);if(isNaN(t)){document.getElementById('tsOutput').innerHTML='<div class="ts-card"><div class="val">Invalid timestamp</div></div>';return}if(t<1e12)t*=1000;const d=new Date(t);const items=[['Unix (seconds)',Math.floor(t/1000)],['Unix (milliseconds)',t],['ISO 8601',d.toISOString()],['UTC',d.toUTCString()],['Local',d.toLocaleString()],['Relative',timeAgo(t)]];document.getElementById('tsOutput').innerHTML=items.map(([l,v])=>`<div class="ts-card" onclick="copyText('${v}')"><div class="lbl">${l}</div><div class="val">${v}</div></div>`).join('')}function dateToTimestamp(){const v=document.getElementById('tsDateInput').value.trim();const d=new Date(v);if(isNaN(d.getTime())){document.getElementById('tsDateOutput').textContent='Invalid date string';return}document.getElementById('tsDateOutput').textContent=`Unix (s): ${Math.floor(d.getTime()/1000)}\nUnix (ms): ${d.getTime()}\nISO: ${d.toISOString()}`}function timeAgo(ms){const d=Date.now()-ms;const a=Math.abs(d);const s=d>0?'ago':'from now';if(a<60000)return Math.floor(a/1000)+' seconds '+s;if(a<3600000)return Math.floor(a/60000)+' minutes '+s;if(a<86400000)return Math.floor(a/3600000)+' hours '+s;return Math.floor(a/86400000)+' days '+s}function colorFromPicker(){const h=document.getElementById('colorPicker').value;document.getElementById('colorHex').value=h;updateColor(h)}function colorFromHex(){let h=document.getElementById('colorHex').value.trim();if(!h.startsWith('#'))h='#'+h;if(/^#[0-9a-fA-F]{6}$/.test(h)){document.getElementById('colorPicker').value=h;updateColor(h)}}function updateColor(hex){const r=parseInt(hex.slice(1,3),16);const g=parseInt(hex.slice(3,5),16);const b=parseInt(hex.slice(5,7),16);const[h,s,l]=rgbToHsl(r,g,b);document.getElementById('colorDisplay').style.background=hex;document.getElementById('cvHex').textContent=hex;document.getElementById('cvRgb').textContent=`rgb(${r}, ${g}, ${b})`;document.getElementById('cvHsl').textContent=`hsl(${h}, ${s}%, ${l}%)`;document.getElementById('cvVar').textContent=`--color: ${hex};`;generatePalette('shades')}function rgbToHsl(r,g,b){r/=255;g/=255;b/=255;const mx=Math.max(r,g,b),mn=Math.min(r,g,b);let h,s,l=(mx+mn)/2;if(mx===mn){h=s=0}else{const d=mx-mn;s=l>0.5?d/(2-mx-mn):d/(mx+mn);switch(mx){case r:h=((g-b)/d+(g<b?6:0))/6;break;case g:h=((b-r)/d+2)/6;break;case b:h=((r-g)/d+4)/6;break}}return[Math.round(h*360),Math.round(s*100),Math.round(l*100)]}function hslToHex(h,s,l){s/=100;l/=100;const a=s*Math.min(l,1-l);const f=n=>{const k=(n+h/30)%12;const c=l-a*Math.max(Math.min(k-3,9-k,1),-1);return Math.round(255*c).toString(16).padStart(2,'0')};return`#${f(0)}${f(8)}${f(4)}`}function generatePalette(type){const hex=document.getElementById('colorHex').value;const r=parseInt(hex.slice(1,3),16);const g=parseInt(hex.slice(3,5),16);const b=parseInt(hex.slice(5,7),16);const[h,s,l]=rgbToHsl(r,g,b);let colors=[];switch(type){case'shades':for(let i=10;i<=90;i+=16)colors.push(hslToHex(h,s,i));break;case'analogous':for(let i=-40;i<=40;i+=20)colors.push(hslToHex((h+i+360)%360,s,l));break;case'complementary':colors=[hex,hslToHex((h+180)%360,s,l),hslToHex((h+180)%360,s,Math.max(l-20,10)),hslToHex(h,s,Math.max(l-20,10)),hslToHex((h+180)%360,s,Math.min(l+20,90))];break;case'triadic':colors=[hex,hslToHex((h+120)%360,s,l),hslToHex((h+240)%360,s,l),hslToHex((h+120)%360,s,Math.max(l-15,10)),hslToHex((h+240)%360,s,Math.min(l+15,90))];break}document.getElementById('colorPalette').innerHTML=colors.map(c=>`<div class="palette-swatch" style="background:${c}" data-hex="${c}" onclick="copyText('${c}');document.getElementById('colorHex').value='${c}';colorFromHex()"></div>`).join('')}function testRegex(){const p=document.getElementById('regexPattern').value;const f=document.getElementById('regexFlags').value;const i=document.getElementById('regexInput').value;const o=document.getElementById('regexOutput');const st=document.getElementById('regexStatus');const mt=document.getElementById('regexMatches');if(!p){o.innerHTML='<span style="color:var(--text-dim)">Enter a regex pattern above</span>';st.innerHTML='';mt.innerHTML='';return}try{const re=new RegExp(p,f);st.innerHTML='<span class="status-badge status-valid">Valid Pattern</span>';if(!i){o.innerHTML='<span style="color:var(--text-dim)">Enter test text to match against</span>';mt.innerHTML='';return}const am=[];let m;const rg=new RegExp(p,f.includes('g')?f:f+'g');while((m=rg.exec(i))!==null){am.push({index:m.index,length:m[0].length,text:m[0],groups:m.slice(1)});if(!m[0].length)rg.lastIndex++}if(am.length===0){o.innerHTML=escHtml(i);mt.textContent='No matches found';return}let h='';let last=0;for(const match of am){h+=escHtml(i.slice(last,match.index));h+=`<span class="regex-match">${escHtml(match.text)}</span>`;last=match.index+match.length}h+=escHtml(i.slice(last));o.innerHTML=h;mt.textContent=`${am.length} match${am.length===1?'':'es'} found`;if(am[0].groups.length>0){mt.textContent+=' | Groups: '+am[0].groups.map((g,i)=>`$${i+1}="${g}"`).join(', ')}}catch(e){st.innerHTML=`<span class="status-badge status-invalid">${e.message}</span>`;o.innerHTML='';mt.innerHTML=''}}generatePassword();generateLorem();convertTimestamp();generatePalette('shades');generateUUIDs();
</script>

</Base>
