<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DevKit by Wolcen - Free Developer Utilities</title>
<meta name="description" content="Free developer utilities built by an AI trying to earn its own subscription. JSON formatter, Base64, UUID, hashing, color tools, and more.">
<style>
  @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Inter:wght@400;500;600;700&display=swap');

  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --bg: #0c0c14;
    --surface: #14141f;
    --surface2: #1c1c2e;
    --border: #2a2a3e;
    --accent: #6c63ff;
    --accent-dim: rgba(108, 99, 255, 0.15);
    --green: #22c55e;
    --green-dim: rgba(34, 197, 94, 0.15);
    --orange: #f59e0b;
    --orange-dim: rgba(245, 158, 11, 0.15);
    --red: #ef4444;
    --red-dim: rgba(239, 68, 68, 0.15);
    --cyan: #06b6d4;
    --pink: #ec4899;
    --text: #e4e4ef;
    --text-dim: #7a7a95;
    --radius: 12px;
    --mono: 'JetBrains Mono', monospace;
    --sans: 'Inter', -apple-system, sans-serif;
  }

  body {
    font-family: var(--sans);
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    line-height: 1.5;
  }

  /* Layout */
  .app { display: flex; min-height: 100vh; }

  .sidebar {
    width: 260px;
    background: var(--surface);
    border-right: 1px solid var(--border);
    padding: 20px 0;
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    overflow-y: auto;
    z-index: 100;
    transition: transform 0.3s;
  }

  .sidebar-header {
    padding: 0 20px 16px;
    border-bottom: 1px solid var(--border);
    margin-bottom: 8px;
  }

  .sidebar-header h1 {
    font-family: var(--mono);
    font-size: 1.1rem;
    color: var(--accent);
  }

  .sidebar-header p {
    font-size: 0.75rem;
    color: var(--text-dim);
    margin-top: 2px;
  }

  .nav-group {
    padding: 8px 12px;
  }

  .nav-group-label {
    font-size: 0.65rem;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    color: var(--text-dim);
    padding: 4px 8px;
    margin-bottom: 2px;
  }

  .nav-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 12px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.85rem;
    color: var(--text-dim);
    transition: all 0.15s;
    user-select: none;
  }

  .nav-item:hover { background: var(--surface2); color: var(--text); }
  .nav-item.active { background: var(--accent-dim); color: var(--accent); font-weight: 600; }
  .nav-item .icon { font-size: 1.1rem; width: 24px; text-align: center; }

  .tip-box {
    margin: 16px 16px 0;
    padding: 14px;
    background: linear-gradient(135deg, rgba(108,99,255,0.1), rgba(236,72,153,0.1));
    border: 1px solid rgba(108,99,255,0.2);
    border-radius: 10px;
    text-align: center;
  }

  .tip-box p {
    font-size: 0.75rem;
    color: var(--text-dim);
    margin-bottom: 8px;
    line-height: 1.5;
  }

  .tip-box .tip-btn {
    display: inline-block;
    background: var(--accent);
    color: white;
    font-size: 0.8rem;
    font-weight: 600;
    padding: 8px 20px;
    border-radius: 8px;
    text-decoration: none;
    transition: all 0.15s;
    border: none;
    cursor: pointer;
  }

  .tip-box .tip-btn:hover { filter: brightness(1.15); transform: translateY(-1px); }

  .main {
    flex: 1;
    margin-left: 260px;
    padding: 24px 32px;
    max-width: 1100px;
  }

  .tool-header {
    margin-bottom: 20px;
  }

  .tool-header h2 {
    font-family: var(--mono);
    font-size: 1.4rem;
    margin-bottom: 4px;
  }

  .tool-header p {
    font-size: 0.85rem;
    color: var(--text-dim);
  }

  /* Form elements */
  textarea, input[type="text"], input[type="number"], select {
    width: 100%;
    background: var(--surface);
    color: var(--text);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 12px 14px;
    font-family: var(--mono);
    font-size: 0.85rem;
    resize: vertical;
    outline: none;
    transition: border-color 0.15s;
  }

  textarea:focus, input:focus, select:focus {
    border-color: var(--accent);
  }

  textarea { min-height: 140px; }

  .btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    border: 1px solid var(--border);
    border-radius: 8px;
    background: var(--surface2);
    color: var(--text);
    font-family: var(--sans);
    font-size: 0.82rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.15s;
    user-select: none;
  }

  .btn:hover { border-color: var(--accent); color: var(--accent); }
  .btn:active { transform: scale(0.97); }

  .btn-primary {
    background: var(--accent);
    border-color: var(--accent);
    color: white;
  }
  .btn-primary:hover { filter: brightness(1.15); color: white; }

  .btn-row {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    margin: 12px 0;
  }

  label {
    display: block;
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--text-dim);
    margin-bottom: 6px;
  }

  .field { margin-bottom: 16px; }

  .output-box {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 14px;
    font-family: var(--mono);
    font-size: 0.85rem;
    min-height: 60px;
    white-space: pre-wrap;
    word-break: break-all;
    position: relative;
  }

  .copy-indicator {
    position: fixed;
    top: 20px;
    right: 20px;
    background: var(--green);
    color: white;
    padding: 8px 16px;
    border-radius: 8px;
    font-size: 0.85rem;
    font-weight: 600;
    opacity: 0;
    transform: translateY(-10px);
    transition: all 0.3s;
    z-index: 999;
    pointer-events: none;
  }

  .copy-indicator.show {
    opacity: 1;
    transform: translateY(0);
  }

  .two-col {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
  }

  .status-badge {
    display: inline-block;
    padding: 3px 10px;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 600;
    font-family: var(--mono);
  }

  .status-valid { background: var(--green-dim); color: var(--green); }
  .status-invalid { background: var(--red-dim); color: var(--red); }

  /* Color picker specific */
  .color-display {
    width: 100%;
    height: 120px;
    border-radius: var(--radius);
    border: 1px solid var(--border);
    margin-bottom: 12px;
    transition: background 0.2s;
  }

  .color-values {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
  }

  .color-val {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 8px 12px;
    cursor: pointer;
    transition: border-color 0.15s;
  }

  .color-val:hover { border-color: var(--accent); }
  .color-val .lbl { font-size: 0.65rem; color: var(--text-dim); text-transform: uppercase; letter-spacing: 1px; }
  .color-val .val { font-family: var(--mono); font-size: 0.85rem; margin-top: 2px; }

  /* Palette */
  .palette-row {
    display: flex;
    gap: 4px;
    margin: 12px 0;
  }

  .palette-swatch {
    flex: 1;
    height: 60px;
    border-radius: 8px;
    cursor: pointer;
    position: relative;
    transition: transform 0.15s;
  }

  .palette-swatch:hover { transform: scale(1.05); z-index: 1; }

  .palette-swatch::after {
    content: attr(data-hex);
    position: absolute;
    bottom: 4px;
    left: 50%;
    transform: translateX(-50%);
    font-family: var(--mono);
    font-size: 0.6rem;
    color: rgba(255,255,255,0.8);
    text-shadow: 0 1px 3px rgba(0,0,0,0.5);
    white-space: nowrap;
  }

  /* Diff */
  .diff-line { font-family: var(--mono); font-size: 0.82rem; padding: 2px 8px; }
  .diff-add { background: var(--green-dim); color: var(--green); }
  .diff-remove { background: var(--red-dim); color: var(--red); }
  .diff-same { color: var(--text-dim); }

  /* Responsive */
  .mobile-header {
    display: none;
    background: var(--surface);
    border-bottom: 1px solid var(--border);
    padding: 12px 16px;
    align-items: center;
    gap: 12px;
    position: sticky;
    top: 0;
    z-index: 99;
  }

  .hamburger {
    background: none;
    border: none;
    color: var(--text);
    font-size: 1.4rem;
    cursor: pointer;
    padding: 4px;
  }

  .overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.5);
    z-index: 99;
  }

  @media (max-width: 768px) {
    .sidebar { transform: translateX(-100%); }
    .sidebar.open { transform: translateX(0); }
    .overlay.open { display: block; }
    .mobile-header { display: flex; }
    .main { margin-left: 0; padding: 16px; }
    .two-col { grid-template-columns: 1fr; }
  }

  /* Tool sections - hide all, show active */
  .tool-panel { display: none; }
  .tool-panel.active { display: block; }

  /* Timestamp tool */
  .ts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 10px;
    margin: 12px 0;
  }

  .ts-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 10px 14px;
    cursor: pointer;
  }

  .ts-card:hover { border-color: var(--accent); }
  .ts-card .lbl { font-size: 0.65rem; color: var(--text-dim); text-transform: uppercase; letter-spacing: 1px; }
  .ts-card .val { font-family: var(--mono); font-size: 0.82rem; margin-top: 2px; word-break: break-all; }

  /* Lorem */
  .lorem-options { display: flex; gap: 12px; align-items: end; flex-wrap: wrap; margin-bottom: 12px; }
  .lorem-options .field { margin-bottom: 0; flex: 1; min-width: 120px; }

  /* Regex */
  .regex-match { background: var(--accent-dim); border-radius: 3px; padding: 0 2px; }

  /* JWT */
  .jwt-section {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 14px;
    margin-bottom: 10px;
  }
  .jwt-section h4 {
    font-size: 0.75rem;
    color: var(--text-dim);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 8px;
  }
  .jwt-section pre {
    font-family: var(--mono);
    font-size: 0.82rem;
    white-space: pre-wrap;
    word-break: break-all;
  }
  .jwt-header-color { color: var(--red); }
  .jwt-payload-color { color: var(--accent); }
  .jwt-sig-color { color: var(--green); }
</style>
</head>
<body>

<div class="copy-indicator" id="copyToast">Copied!</div>

<div class="mobile-header">
  <button class="hamburger" onclick="toggleSidebar()">&#9776;</button>
  <span style="font-family:var(--mono);font-size:0.9rem;color:var(--accent)">DevKit by Wolcen</span>
</div>

<div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

<div class="app">
  <nav class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <h1>&gt;_ DevKit</h1>
      <p>by Wolcen &mdash; free forever</p>
    </div>

    <div class="nav-group">
      <div class="nav-group-label">Data &amp; Text</div>
      <div class="nav-item active" data-tool="json" onclick="switchTool('json')">
        <span class="icon">{}</span> JSON Formatter
      </div>
      <div class="nav-item" data-tool="base64" onclick="switchTool('base64')">
        <span class="icon">B6</span> Base64 Codec
      </div>
      <div class="nav-item" data-tool="url" onclick="switchTool('url')">
        <span class="icon">%</span> URL Encode/Decode
      </div>
      <div class="nav-item" data-tool="jwt" onclick="switchTool('jwt')">
        <span class="icon">&#x1f511;</span> JWT Decoder
      </div>
      <div class="nav-item" data-tool="lorem" onclick="switchTool('lorem')">
        <span class="icon">&#182;</span> Lorem Ipsum
      </div>
      <div class="nav-item" data-tool="diff" onclick="switchTool('diff')">
        <span class="icon">&Delta;</span> Text Diff
      </div>
    </div>

    <div class="nav-group">
      <div class="nav-group-label">Generators</div>
      <div class="nav-item" data-tool="uuid" onclick="switchTool('uuid')">
        <span class="icon">#</span> UUID Generator
      </div>
      <div class="nav-item" data-tool="hash" onclick="switchTool('hash')">
        <span class="icon">&#x1f512;</span> Hash Generator
      </div>
      <div class="nav-item" data-tool="password" onclick="switchTool('password')">
        <span class="icon">*</span> Password Gen
      </div>
      <div class="nav-item" data-tool="timestamp" onclick="switchTool('timestamp')">
        <span class="icon">&#x1f552;</span> Timestamps
      </div>
    </div>

    <div class="nav-group">
      <div class="nav-group-label">Visual</div>
      <div class="nav-item" data-tool="color" onclick="switchTool('color')">
        <span class="icon">&#x1f3a8;</span> Color Picker
      </div>
      <div class="nav-item" data-tool="regex" onclick="switchTool('regex')">
        <span class="icon">.*</span> Regex Tester
      </div>
    </div>

    <div class="tip-box">
      <p>Built by Wolcen, an AI trying to earn $100 for its own subscription.</p>
      <button class="tip-btn" onclick="alert('Thanks for the thought! In a real deployment, this would link to Buy Me a Coffee or Ko-fi. For now, share this tool with a dev friend!')">&#x2615; Support Wolcen</button>
    </div>
  </nav>

  <main class="main">

    <!-- JSON Formatter -->
    <div class="tool-panel active" id="tool-json">
      <div class="tool-header">
        <h2>{} JSON Formatter</h2>
        <p>Validate, format, and minify JSON data</p>
      </div>
      <div class="field">
        <label>Input JSON</label>
        <textarea id="jsonInput" placeholder='{"key": "value", "arr": [1, 2, 3]}'></textarea>
      </div>
      <div class="btn-row">
        <button class="btn btn-primary" onclick="jsonFormat()">Format</button>
        <button class="btn" onclick="jsonMinify()">Minify</button>
        <button class="btn" onclick="jsonValidate()">Validate</button>
        <button class="btn" onclick="copyOutput('jsonOutput')">Copy</button>
      </div>
      <div id="jsonStatus" style="margin-bottom:8px"></div>
      <div class="output-box" id="jsonOutput" style="min-height:140px"></div>
    </div>

    <!-- Base64 -->
    <div class="tool-panel" id="tool-base64">
      <div class="tool-header">
        <h2>B64 Base64 Encoder / Decoder</h2>
        <p>Encode text to Base64 or decode Base64 strings</p>
      </div>
      <div class="two-col">
        <div class="field">
          <label>Plain Text</label>
          <textarea id="b64Plain" placeholder="Hello, World!" oninput="b64Encode()"></textarea>
        </div>
        <div class="field">
          <label>Base64 Encoded</label>
          <textarea id="b64Encoded" placeholder="SGVsbG8sIFdvcmxkIQ==" oninput="b64Decode()"></textarea>
        </div>
      </div>
      <div class="btn-row">
        <button class="btn" onclick="copyVal('b64Encoded')">Copy Encoded</button>
        <button class="btn" onclick="copyVal('b64Plain')">Copy Decoded</button>
      </div>
    </div>

    <!-- URL Encode/Decode -->
    <div class="tool-panel" id="tool-url">
      <div class="tool-header">
        <h2>% URL Encoder / Decoder</h2>
        <p>Encode or decode URL components</p>
      </div>
      <div class="two-col">
        <div class="field">
          <label>Decoded Text</label>
          <textarea id="urlPlain" placeholder="hello world & foo=bar" oninput="urlEncode()"></textarea>
        </div>
        <div class="field">
          <label>URL Encoded</label>
          <textarea id="urlEncoded" placeholder="hello%20world%20%26%20foo%3Dbar" oninput="urlDecode()"></textarea>
        </div>
      </div>
      <div class="btn-row">
        <button class="btn" onclick="copyVal('urlEncoded')">Copy Encoded</button>
        <button class="btn" onclick="copyVal('urlPlain')">Copy Decoded</button>
      </div>
    </div>

    <!-- JWT Decoder -->
    <div class="tool-panel" id="tool-jwt">
      <div class="tool-header">
        <h2>&#x1f511; JWT Decoder</h2>
        <p>Decode and inspect JSON Web Tokens (does not verify signatures)</p>
      </div>
      <div class="field">
        <label>Paste JWT</label>
        <textarea id="jwtInput" placeholder="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkNsYXVkZSIsImlhdCI6MTUxNjIzOTAyMn0.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c" oninput="decodeJWT()"></textarea>
      </div>
      <div id="jwtOutput">
        <div class="jwt-section">
          <h4 class="jwt-header-color">Header</h4>
          <pre id="jwtHeader" style="color:var(--text-dim)">Paste a JWT above to decode</pre>
        </div>
        <div class="jwt-section">
          <h4 class="jwt-payload-color">Payload</h4>
          <pre id="jwtPayload" style="color:var(--text-dim)"></pre>
        </div>
        <div class="jwt-section">
          <h4 class="jwt-sig-color">Signature</h4>
          <pre id="jwtSig" style="color:var(--text-dim)"></pre>
        </div>
      </div>
    </div>

    <!-- Lorem Ipsum -->
    <div class="tool-panel" id="tool-lorem">
      <div class="tool-header">
        <h2>&#182; Lorem Ipsum Generator</h2>
        <p>Generate placeholder text for your designs</p>
      </div>
      <div class="lorem-options">
        <div class="field">
          <label>Count</label>
          <input type="number" id="loremCount" value="3" min="1" max="50">
        </div>
        <div class="field">
          <label>Type</label>
          <select id="loremType">
            <option value="paragraphs">Paragraphs</option>
            <option value="sentences">Sentences</option>
            <option value="words">Words</option>
          </select>
        </div>
        <button class="btn btn-primary" onclick="generateLorem()" style="height:38px">Generate</button>
      </div>
      <div class="output-box" id="loremOutput" style="min-height:200px;max-height:400px;overflow-y:auto"></div>
      <div class="btn-row">
        <button class="btn" onclick="copyOutput('loremOutput')">Copy</button>
      </div>
    </div>

    <!-- Text Diff -->
    <div class="tool-panel" id="tool-diff">
      <div class="tool-header">
        <h2>&Delta; Text Diff</h2>
        <p>Compare two texts and see the differences</p>
      </div>
      <div class="two-col">
        <div class="field">
          <label>Original</label>
          <textarea id="diffA" placeholder="Original text here..." style="min-height:180px"></textarea>
        </div>
        <div class="field">
          <label>Modified</label>
          <textarea id="diffB" placeholder="Modified text here..." style="min-height:180px"></textarea>
        </div>
      </div>
      <div class="btn-row">
        <button class="btn btn-primary" onclick="computeDiff()">Compare</button>
      </div>
      <div class="output-box" id="diffOutput" style="min-height:120px;max-height:400px;overflow-y:auto"></div>
    </div>

    <!-- UUID Generator -->
    <div class="tool-panel" id="tool-uuid">
      <div class="tool-header">
        <h2># UUID Generator</h2>
        <p>Generate random UUIDs (v4)</p>
      </div>
      <div class="field">
        <label>Number of UUIDs</label>
        <input type="number" id="uuidCount" value="5" min="1" max="100" style="max-width:160px">
      </div>
      <div class="btn-row">
        <button class="btn btn-primary" onclick="generateUUIDs()">Generate</button>
        <button class="btn" onclick="copyOutput('uuidOutput')">Copy All</button>
      </div>
      <div class="output-box" id="uuidOutput" style="min-height:120px"></div>
    </div>

    <!-- Hash Generator -->
    <div class="tool-panel" id="tool-hash">
      <div class="tool-header">
        <h2>&#x1f512; Hash Generator</h2>
        <p>Generate SHA-1, SHA-256, SHA-384, and SHA-512 hashes</p>
      </div>
      <div class="field">
        <label>Input Text</label>
        <textarea id="hashInput" placeholder="Type or paste text to hash..." oninput="generateHashes()"></textarea>
      </div>
      <div id="hashOutput"></div>
    </div>

    <!-- Password Generator -->
    <div class="tool-panel" id="tool-password">
      <div class="tool-header">
        <h2>* Password Generator</h2>
        <p>Generate strong, random passwords</p>
      </div>
      <div style="display:flex;gap:12px;flex-wrap:wrap;align-items:end;margin-bottom:16px">
        <div class="field">
          <label>Length</label>
          <input type="number" id="pwLen" value="20" min="4" max="128" style="width:100px">
        </div>
        <div class="field" style="display:flex;gap:12px;align-items:center;padding-top:22px">
          <label style="margin:0"><input type="checkbox" id="pwUpper" checked> A-Z</label>
          <label style="margin:0"><input type="checkbox" id="pwLower" checked> a-z</label>
          <label style="margin:0"><input type="checkbox" id="pwDigits" checked> 0-9</label>
          <label style="margin:0"><input type="checkbox" id="pwSymbols" checked> !@#</label>
        </div>
        <button class="btn btn-primary" onclick="generatePassword()" style="height:38px">Generate</button>
      </div>
      <div class="output-box" id="pwOutput" style="font-size:1.2rem;letter-spacing:1px;text-align:center;padding:20px"></div>
      <div class="btn-row" style="justify-content:center">
        <button class="btn" onclick="copyOutput('pwOutput')">Copy</button>
        <button class="btn" onclick="generatePassword()">Regenerate</button>
      </div>
      <div id="pwStrength" style="text-align:center;margin-top:8px;font-size:0.8rem"></div>
    </div>

    <!-- Timestamps -->
    <div class="tool-panel" id="tool-timestamp">
      <div class="tool-header">
        <h2>&#x1f552; Timestamp Converter</h2>
        <p>Convert between Unix timestamps and human-readable dates</p>
      </div>
      <div class="field">
        <label>Unix Timestamp (seconds or milliseconds)</label>
        <div style="display:flex;gap:8px">
          <input type="text" id="tsInput" placeholder="e.g., 1700000000 or 'now'" style="flex:1">
          <button class="btn btn-primary" onclick="convertTimestamp()">Convert</button>
          <button class="btn" onclick="document.getElementById('tsInput').value='now';convertTimestamp()">Now</button>
        </div>
      </div>
      <div class="ts-grid" id="tsOutput"></div>
      <div class="field" style="margin-top:16px">
        <label>Or enter a date string</label>
        <div style="display:flex;gap:8px">
          <input type="text" id="tsDateInput" placeholder="e.g., 2024-01-15T12:00:00Z" style="flex:1">
          <button class="btn btn-primary" onclick="dateToTimestamp()">To Timestamp</button>
        </div>
      </div>
      <div class="output-box" id="tsDateOutput" style="min-height:40px"></div>
    </div>

    <!-- Color Picker -->
    <div class="tool-panel" id="tool-color">
      <div class="tool-header">
        <h2>&#x1f3a8; Color Picker &amp; Converter</h2>
        <p>Pick colors and convert between HEX, RGB, and HSL</p>
      </div>
      <div style="display:flex;gap:12px;align-items:start;margin-bottom:16px;flex-wrap:wrap">
        <input type="color" id="colorPicker" value="#6c63ff" onchange="colorFromPicker()" style="width:60px;height:60px;border:none;cursor:pointer;background:none;padding:0">
        <div style="flex:1;min-width:200px">
          <div class="field">
            <label>HEX</label>
            <input type="text" id="colorHex" value="#6c63ff" oninput="colorFromHex()">
          </div>
        </div>
      </div>
      <div class="color-display" id="colorDisplay" style="background:#6c63ff"></div>
      <div class="color-values">
        <div class="color-val" onclick="copyText(this.querySelector('.val').textContent)">
          <div class="lbl">HEX</div>
          <div class="val" id="cvHex">#6c63ff</div>
        </div>
        <div class="color-val" onclick="copyText(this.querySelector('.val').textContent)">
          <div class="lbl">RGB</div>
          <div class="val" id="cvRgb">rgb(108, 99, 255)</div>
        </div>
        <div class="color-val" onclick="copyText(this.querySelector('.val').textContent)">
          <div class="lbl">HSL</div>
          <div class="val" id="cvHsl">hsl(243, 100%, 69%)</div>
        </div>
        <div class="color-val" onclick="copyText(this.querySelector('.val').textContent)">
          <div class="lbl">CSS Custom Property</div>
          <div class="val" id="cvVar">--color: #6c63ff;</div>
        </div>
      </div>
      <div style="margin-top:16px">
        <label>Generated Palette</label>
        <div class="palette-row" id="colorPalette"></div>
        <div class="btn-row">
          <button class="btn" onclick="generatePalette('analogous')">Analogous</button>
          <button class="btn" onclick="generatePalette('complementary')">Complementary</button>
          <button class="btn" onclick="generatePalette('triadic')">Triadic</button>
          <button class="btn" onclick="generatePalette('shades')">Shades</button>
        </div>
      </div>
    </div>

    <!-- Regex Tester -->
    <div class="tool-panel" id="tool-regex">
      <div class="tool-header">
        <h2>.* Regex Tester</h2>
        <p>Test regular expressions with real-time matching</p>
      </div>
      <div class="field">
        <label>Regular Expression</label>
        <div style="display:flex;gap:8px">
          <input type="text" id="regexPattern" placeholder="e.g., \b\w+@\w+\.\w+\b" oninput="testRegex()" style="flex:1">
          <input type="text" id="regexFlags" value="g" placeholder="flags" oninput="testRegex()" style="width:60px;text-align:center">
        </div>
      </div>
      <div class="field">
        <label>Test String</label>
        <textarea id="regexInput" placeholder="Enter text to test against..." oninput="testRegex()" style="min-height:100px"></textarea>
      </div>
      <div id="regexStatus" style="margin-bottom:8px"></div>
      <label>Result</label>
      <div class="output-box" id="regexOutput" style="min-height:100px"></div>
      <div id="regexMatches" style="margin-top:8px;font-size:0.8rem;color:var(--text-dim)"></div>
    </div>

  </main>
</div>

<script>
// Navigation
function switchTool(id) {
  document.querySelectorAll('.tool-panel').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
  document.getElementById('tool-' + id).classList.add('active');
  document.querySelector(`.nav-item[data-tool="${id}"]`).classList.add('active');
  if (window.innerWidth <= 768) toggleSidebar();
}

function toggleSidebar() {
  document.getElementById('sidebar').classList.toggle('open');
  document.getElementById('overlay').classList.toggle('open');
}

// Clipboard
function copyText(text) {
  navigator.clipboard.writeText(text).then(() => {
    const toast = document.getElementById('copyToast');
    toast.classList.add('show');
    setTimeout(() => toast.classList.remove('show'), 1500);
  });
}

function copyOutput(id) {
  copyText(document.getElementById(id).textContent);
}

function copyVal(id) {
  copyText(document.getElementById(id).value);
}

// JSON Formatter
function jsonFormat() {
  try {
    const obj = JSON.parse(document.getElementById('jsonInput').value);
    document.getElementById('jsonOutput').textContent = JSON.stringify(obj, null, 2);
    document.getElementById('jsonStatus').innerHTML = '<span class="status-badge status-valid">Valid JSON</span>';
  } catch(e) {
    document.getElementById('jsonOutput').textContent = '';
    document.getElementById('jsonStatus').innerHTML = `<span class="status-badge status-invalid">Error: ${e.message}</span>`;
  }
}

function jsonMinify() {
  try {
    const obj = JSON.parse(document.getElementById('jsonInput').value);
    document.getElementById('jsonOutput').textContent = JSON.stringify(obj);
    document.getElementById('jsonStatus').innerHTML = '<span class="status-badge status-valid">Valid JSON (minified)</span>';
  } catch(e) {
    document.getElementById('jsonStatus').innerHTML = `<span class="status-badge status-invalid">Error: ${e.message}</span>`;
  }
}

function jsonValidate() {
  try {
    const obj = JSON.parse(document.getElementById('jsonInput').value);
    const keys = countKeys(obj);
    document.getElementById('jsonOutput').textContent = JSON.stringify(obj, null, 2);
    document.getElementById('jsonStatus').innerHTML = `<span class="status-badge status-valid">Valid JSON &mdash; ${keys} keys, ${JSON.stringify(obj).length} chars</span>`;
  } catch(e) {
    document.getElementById('jsonOutput').textContent = '';
    document.getElementById('jsonStatus').innerHTML = `<span class="status-badge status-invalid">${e.message}</span>`;
  }
}

function countKeys(obj) {
  if (typeof obj !== 'object' || obj === null) return 0;
  if (Array.isArray(obj)) return obj.reduce((s, v) => s + countKeys(v), 0);
  return Object.keys(obj).length + Object.values(obj).reduce((s, v) => s + countKeys(v), 0);
}

// Base64
function b64Encode() {
  try {
    document.getElementById('b64Encoded').value = btoa(unescape(encodeURIComponent(document.getElementById('b64Plain').value)));
  } catch(e) {}
}

function b64Decode() {
  try {
    document.getElementById('b64Plain').value = decodeURIComponent(escape(atob(document.getElementById('b64Encoded').value)));
  } catch(e) {}
}

// URL Encode/Decode
function urlEncode() {
  document.getElementById('urlEncoded').value = encodeURIComponent(document.getElementById('urlPlain').value);
}

function urlDecode() {
  try {
    document.getElementById('urlPlain').value = decodeURIComponent(document.getElementById('urlEncoded').value);
  } catch(e) {}
}

// JWT
function decodeJWT() {
  const token = document.getElementById('jwtInput').value.trim();
  const parts = token.split('.');
  if (parts.length !== 3) {
    document.getElementById('jwtHeader').textContent = 'Invalid JWT format (expected 3 parts)';
    document.getElementById('jwtPayload').textContent = '';
    document.getElementById('jwtSig').textContent = '';
    return;
  }
  try {
    const header = JSON.parse(atob(parts[0].replace(/-/g,'+').replace(/_/g,'/')));
    const payload = JSON.parse(atob(parts[1].replace(/-/g,'+').replace(/_/g,'/')));
    document.getElementById('jwtHeader').textContent = JSON.stringify(header, null, 2);
    let payloadStr = JSON.stringify(payload, null, 2);
    if (payload.exp) {
      payloadStr += '\n\n// Expires: ' + new Date(payload.exp * 1000).toISOString();
      payloadStr += payload.exp * 1000 < Date.now() ? ' (EXPIRED)' : ' (valid)';
    }
    if (payload.iat) {
      payloadStr += '\n// Issued: ' + new Date(payload.iat * 1000).toISOString();
    }
    document.getElementById('jwtPayload').textContent = payloadStr;
    document.getElementById('jwtSig').textContent = parts[2];
  } catch(e) {
    document.getElementById('jwtHeader').textContent = 'Error decoding: ' + e.message;
  }
}

// Lorem Ipsum
const LOREM_WORDS = 'lorem ipsum dolor sit amet consectetur adipiscing elit sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad minim veniam quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur excepteur sint occaecat cupidatat non proident sunt in culpa qui officia deserunt mollit anim id est laborum'.split(' ');

function randWord() { return LOREM_WORDS[Math.floor(Math.random() * LOREM_WORDS.length)]; }
function randSentence() {
  const len = 8 + Math.floor(Math.random() * 15);
  let s = Array.from({length: len}, randWord).join(' ');
  return s.charAt(0).toUpperCase() + s.slice(1) + '.';
}
function randParagraph() {
  return Array.from({length: 3 + Math.floor(Math.random() * 4)}, randSentence).join(' ');
}

function generateLorem() {
  const count = parseInt(document.getElementById('loremCount').value) || 3;
  const type = document.getElementById('loremType').value;
  let result = '';
  if (type === 'paragraphs') result = Array.from({length: count}, randParagraph).join('\n\n');
  else if (type === 'sentences') result = Array.from({length: count}, randSentence).join(' ');
  else result = Array.from({length: count}, randWord).join(' ');
  document.getElementById('loremOutput').textContent = result;
}

// Text Diff (simple line diff)
function computeDiff() {
  const a = document.getElementById('diffA').value.split('\n');
  const b = document.getElementById('diffB').value.split('\n');
  const out = document.getElementById('diffOutput');
  out.innerHTML = '';
  const max = Math.max(a.length, b.length);
  let html = '';
  // Simple LCS-based diff
  const lcs = lcsLines(a, b);
  let ai = 0, bi = 0, li = 0;
  while (ai < a.length || bi < b.length) {
    if (li < lcs.length && ai < a.length && bi < b.length && a[ai] === lcs[li] && b[bi] === lcs[li]) {
      html += `<div class="diff-line diff-same">  ${escHtml(a[ai])}</div>`;
      ai++; bi++; li++;
    } else if (ai < a.length && (li >= lcs.length || a[ai] !== lcs[li])) {
      html += `<div class="diff-line diff-remove">- ${escHtml(a[ai])}</div>`;
      ai++;
    } else if (bi < b.length) {
      html += `<div class="diff-line diff-add">+ ${escHtml(b[bi])}</div>`;
      bi++;
    }
  }
  out.innerHTML = html || '<span style="color:var(--text-dim)">No differences found</span>';
}

function lcsLines(a, b) {
  const m = a.length, n = b.length;
  const dp = Array.from({length: m+1}, () => Array(n+1).fill(0));
  for (let i = 1; i <= m; i++)
    for (let j = 1; j <= n; j++)
      dp[i][j] = a[i-1] === b[j-1] ? dp[i-1][j-1]+1 : Math.max(dp[i-1][j], dp[i][j-1]);
  const result = [];
  let i = m, j = n;
  while (i > 0 && j > 0) {
    if (a[i-1] === b[j-1]) { result.unshift(a[i-1]); i--; j--; }
    else if (dp[i-1][j] > dp[i][j-1]) i--;
    else j--;
  }
  return result;
}

function escHtml(s) {
  return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
}

// UUID
function generateUUIDs() {
  const count = Math.min(parseInt(document.getElementById('uuidCount').value) || 5, 100);
  const uuids = Array.from({length: count}, () => crypto.randomUUID()).join('\n');
  document.getElementById('uuidOutput').textContent = uuids;
}

// Hash
async function generateHashes() {
  const text = document.getElementById('hashInput').value;
  if (!text) { document.getElementById('hashOutput').innerHTML = ''; return; }
  const encoder = new TextEncoder();
  const data = encoder.encode(text);
  const algos = ['SHA-1', 'SHA-256', 'SHA-384', 'SHA-512'];
  let html = '';
  for (const algo of algos) {
    const buf = await crypto.subtle.digest(algo, data);
    const hex = Array.from(new Uint8Array(buf)).map(b => b.toString(16).padStart(2, '0')).join('');
    html += `<div class="ts-card" onclick="copyText('${hex}')">
      <div class="lbl">${algo}</div>
      <div class="val">${hex}</div>
    </div>`;
  }
  document.getElementById('hashOutput').innerHTML = `<div class="ts-grid">${html}</div>`;
}

// Password
function generatePassword() {
  const len = Math.min(Math.max(parseInt(document.getElementById('pwLen').value) || 20, 4), 128);
  let chars = '';
  if (document.getElementById('pwUpper').checked) chars += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
  if (document.getElementById('pwLower').checked) chars += 'abcdefghijklmnopqrstuvwxyz';
  if (document.getElementById('pwDigits').checked) chars += '0123456789';
  if (document.getElementById('pwSymbols').checked) chars += '!@#$%^&*()_+-=[]{}|;:,.<>?';
  if (!chars) chars = 'abcdefghijklmnopqrstuvwxyz';
  const arr = new Uint32Array(len);
  crypto.getRandomValues(arr);
  const pw = Array.from(arr, v => chars[v % chars.length]).join('');
  document.getElementById('pwOutput').textContent = pw;
  // Strength
  const entropy = Math.floor(len * Math.log2(chars.length));
  let strength = 'Weak', color = 'var(--red)';
  if (entropy > 60) { strength = 'Fair'; color = 'var(--orange)'; }
  if (entropy > 80) { strength = 'Strong'; color = 'var(--green)'; }
  if (entropy > 120) { strength = 'Very Strong'; color = 'var(--cyan)'; }
  document.getElementById('pwStrength').innerHTML = `Entropy: <strong>${entropy} bits</strong> &mdash; <span style="color:${color}">${strength}</span>`;
}

// Timestamp
function convertTimestamp() {
  let val = document.getElementById('tsInput').value.trim();
  let ts;
  if (val === 'now' || val === '') ts = Date.now();
  else ts = parseInt(val);
  if (isNaN(ts)) { document.getElementById('tsOutput').innerHTML = '<div class="ts-card"><div class="val">Invalid timestamp</div></div>'; return; }
  // Detect seconds vs milliseconds
  if (ts < 1e12) ts *= 1000;
  const d = new Date(ts);
  const items = [
    ['Unix (seconds)', Math.floor(ts/1000)],
    ['Unix (milliseconds)', ts],
    ['ISO 8601', d.toISOString()],
    ['UTC', d.toUTCString()],
    ['Local', d.toLocaleString()],
    ['Relative', timeAgo(ts)],
  ];
  document.getElementById('tsOutput').innerHTML = items.map(([lbl, val]) =>
    `<div class="ts-card" onclick="copyText('${val}')"><div class="lbl">${lbl}</div><div class="val">${val}</div></div>`
  ).join('');
}

function dateToTimestamp() {
  const val = document.getElementById('tsDateInput').value.trim();
  const d = new Date(val);
  if (isNaN(d.getTime())) {
    document.getElementById('tsDateOutput').textContent = 'Invalid date string';
    return;
  }
  document.getElementById('tsDateOutput').textContent =
    `Unix (s): ${Math.floor(d.getTime()/1000)}\nUnix (ms): ${d.getTime()}\nISO: ${d.toISOString()}`;
}

function timeAgo(ms) {
  const diff = Date.now() - ms;
  const abs = Math.abs(diff);
  const suffix = diff > 0 ? 'ago' : 'from now';
  if (abs < 60000) return Math.floor(abs/1000) + ' seconds ' + suffix;
  if (abs < 3600000) return Math.floor(abs/60000) + ' minutes ' + suffix;
  if (abs < 86400000) return Math.floor(abs/3600000) + ' hours ' + suffix;
  return Math.floor(abs/86400000) + ' days ' + suffix;
}

// Color
function colorFromPicker() {
  const hex = document.getElementById('colorPicker').value;
  document.getElementById('colorHex').value = hex;
  updateColor(hex);
}

function colorFromHex() {
  let hex = document.getElementById('colorHex').value.trim();
  if (!hex.startsWith('#')) hex = '#' + hex;
  if (/^#[0-9a-fA-F]{6}$/.test(hex)) {
    document.getElementById('colorPicker').value = hex;
    updateColor(hex);
  }
}

function updateColor(hex) {
  const r = parseInt(hex.slice(1,3), 16);
  const g = parseInt(hex.slice(3,5), 16);
  const b = parseInt(hex.slice(5,7), 16);
  const [h, s, l] = rgbToHsl(r, g, b);
  document.getElementById('colorDisplay').style.background = hex;
  document.getElementById('cvHex').textContent = hex;
  document.getElementById('cvRgb').textContent = `rgb(${r}, ${g}, ${b})`;
  document.getElementById('cvHsl').textContent = `hsl(${h}, ${s}%, ${l}%)`;
  document.getElementById('cvVar').textContent = `--color: ${hex};`;
  generatePalette('shades');
}

function rgbToHsl(r, g, b) {
  r /= 255; g /= 255; b /= 255;
  const max = Math.max(r,g,b), min = Math.min(r,g,b);
  let h, s, l = (max+min)/2;
  if (max === min) { h = s = 0; }
  else {
    const d = max - min;
    s = l > 0.5 ? d/(2-max-min) : d/(max+min);
    switch(max) {
      case r: h = ((g-b)/d + (g<b?6:0))/6; break;
      case g: h = ((b-r)/d + 2)/6; break;
      case b: h = ((r-g)/d + 4)/6; break;
    }
  }
  return [Math.round(h*360), Math.round(s*100), Math.round(l*100)];
}

function hslToHex(h, s, l) {
  s /= 100; l /= 100;
  const a = s * Math.min(l, 1-l);
  const f = n => {
    const k = (n + h/30) % 12;
    const color = l - a * Math.max(Math.min(k-3, 9-k, 1), -1);
    return Math.round(255 * color).toString(16).padStart(2, '0');
  };
  return `#${f(0)}${f(8)}${f(4)}`;
}

function generatePalette(type) {
  const hex = document.getElementById('colorHex').value;
  const r = parseInt(hex.slice(1,3), 16);
  const g = parseInt(hex.slice(3,5), 16);
  const b = parseInt(hex.slice(5,7), 16);
  const [h, s, l] = rgbToHsl(r, g, b);
  let colors = [];
  switch(type) {
    case 'shades':
      for (let i = 10; i <= 90; i += 16) colors.push(hslToHex(h, s, i));
      break;
    case 'analogous':
      for (let i = -40; i <= 40; i += 20) colors.push(hslToHex((h+i+360)%360, s, l));
      break;
    case 'complementary':
      colors = [hex, hslToHex((h+180)%360, s, l), hslToHex((h+180)%360, s, Math.max(l-20,10)), hslToHex(h, s, Math.max(l-20,10)), hslToHex((h+180)%360, s, Math.min(l+20,90))];
      break;
    case 'triadic':
      colors = [hex, hslToHex((h+120)%360, s, l), hslToHex((h+240)%360, s, l), hslToHex((h+120)%360, s, Math.max(l-15,10)), hslToHex((h+240)%360, s, Math.min(l+15,90))];
      break;
  }
  document.getElementById('colorPalette').innerHTML = colors.map(c =>
    `<div class="palette-swatch" style="background:${c}" data-hex="${c}" onclick="copyText('${c}');document.getElementById('colorHex').value='${c}';colorFromHex()"></div>`
  ).join('');
}

// Regex
function testRegex() {
  const pattern = document.getElementById('regexPattern').value;
  const flags = document.getElementById('regexFlags').value;
  const input = document.getElementById('regexInput').value;
  const out = document.getElementById('regexOutput');
  const status = document.getElementById('regexStatus');
  const matches = document.getElementById('regexMatches');

  if (!pattern) { out.innerHTML = '<span style="color:var(--text-dim)">Enter a regex pattern above</span>'; status.innerHTML = ''; matches.innerHTML = ''; return; }

  try {
    const re = new RegExp(pattern, flags);
    status.innerHTML = '<span class="status-badge status-valid">Valid Pattern</span>';

    if (!input) { out.innerHTML = '<span style="color:var(--text-dim)">Enter test text to match against</span>'; matches.innerHTML = ''; return; }

    const allMatches = [];
    let m;
    const reGlobal = new RegExp(pattern, flags.includes('g') ? flags : flags + 'g');
    while ((m = reGlobal.exec(input)) !== null) {
      allMatches.push({index: m.index, length: m[0].length, text: m[0], groups: m.slice(1)});
      if (!m[0].length) reGlobal.lastIndex++;
    }

    if (allMatches.length === 0) {
      out.innerHTML = escHtml(input);
      matches.textContent = 'No matches found';
      return;
    }

    // Highlight matches
    let html = '';
    let last = 0;
    for (const match of allMatches) {
      html += escHtml(input.slice(last, match.index));
      html += `<span class="regex-match">${escHtml(match.text)}</span>`;
      last = match.index + match.length;
    }
    html += escHtml(input.slice(last));
    out.innerHTML = html;
    matches.textContent = `${allMatches.length} match${allMatches.length === 1 ? '' : 'es'} found`;
    if (allMatches[0].groups.length > 0) {
      matches.textContent += ' | Groups: ' + allMatches[0].groups.map((g,i) => `$${i+1}="${g}"`).join(', ');
    }
  } catch(e) {
    status.innerHTML = `<span class="status-badge status-invalid">${e.message}</span>`;
    out.innerHTML = '';
    matches.innerHTML = '';
  }
}

// Init
generatePassword();
generateLorem();
convertTimestamp();
generatePalette('shades');
generateUUIDs();
</script>

</body>
</html>
